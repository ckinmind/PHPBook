###  第17节 Linux 日志系统
[参考资料：第17节 Linux 日志系统](https://www.shiyanlou.com/courses/1/labs/1945/document)

---
### 实验介绍
>日志可以为审计进行审计跟踪

实验涉及的知识点
- 常见的日志
- 配置的日志
- 轮替的日志

---
### 一、常见的日志
- 在 Linux 中大部分的发行版都内置使用 syslog 系统日志，常见的日志一般存放在 /var/log 中
- 我们可以根据服务对象粗略的将日志分为两类
  - 系统日志
  - 应用日志
- 系统日志主要是存放系统内置程序或系统内核之类的日志信息如 alternatives.log 、btmp 等等
- 应用日志主要是我们装的第三方应用所产生的日志如 tomcat7 、apache2 等等

常见的系统日志有哪些，他们都记录了怎样的信息

|日志名称|记录信息|
|-----|-----|
|alternatives.log|系统的一些更新替代信息记录|
|apport.log|应用程序崩溃信息记录|
|apt/history.log|使用apt-get安装卸载软件的信息记录|
|apt/term.log|使用apt-get时的具体操作，如 package 的下载打开等|
|auth.log|登录认证的信息记录|
|boot.log|系统启动时的程序服务的日志信息|
|btmp|错误登陆的信息记录|
|Consolekit/history|控制台的信息记录|
|dist-upgrade|dist-upgrade这种更新方式的信息记录|
|dmesg|启动时，显示屏幕上内核缓冲信息,与硬件有关的信息|
|dpkg.log|dpkg命令管理包的日志。|
|faillog|用户登录失败详细信息记录|
|fontconfig.log|与字体配置有关的信息记录|
|kern.log|内核产生的信息记录，在自己修改内核时有很大帮助|
|lastlog|用户的最近信息记录|
|wtmp|登录信息的记录。wtmp可以找出谁正在登陆进入系统，谁使用命令显示这个文件或信息等|
|syslog|系统信息记录|

---
### 二、配置的日志

- 这样的实现可以通过两种方式，一种是由软件开发商自己来自定义日志格式然后指定输出日志位置，还有一种方式就是 Linux 提供的日志服务程序，而我们这里系统日志是通过 syslog 来实现，提供日志管理服务

---
### 三、转储的日志
- logrotate 程序是一个日志文件管理工具。用来把旧的日志文件删除，并创建新的日志文件。我们可以根据日志文件的大小，也可以根据其天数来切割日志，来管理日志。这个过程又叫做“转储”
- logrotate 是基于 CRON 来运行的，其脚本是 /etc/cron.daily/logrotate；同时我们可以在 /etc/logrotate 中找到其配置文件

---
备注：概念性的东西还是比较多，很多没有记录
